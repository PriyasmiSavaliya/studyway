{% extends 'admin/base.html' %}
{% block content %}
<a href="{{ url_for('admin.list_colleges') }}" class="btn" style="margin-bottom: 15px; display:inline-block;">← Back</a>

<h2>{{ 'Edit' if item else 'Add' }} College</h2>
<form method="post" class="form" enctype="multipart/form-data">
  <label>College Name
    <input type="text" name="college_name" value="{{ item.college_name if item }}" required>
  </label>
  <label>City
    <input type="text" name="city" value="{{ item.city if item }}">
  </label>
  <label>State
    <input type="text" name="state" value="{{ item.state if item }}">
  </label>
  <label>Website
    <input type="url" name="college_website" value="{{ item.college_website if item }}">
  </label>
  <label>Ranking
    <input type="number" name="ranking" value="{{ item.ranking if item }}">
  </label>
  <label>Average Fee (₹)
    <input type="number" step="0.01" name="avg_fee" value="{{ item.avg_fee if item }}">
  </label>
  <label>Placement Rating
    <input type="number" step="0.1" name="placement_rating" value="{{ item.placement_rating if item }}">
  </label>
  <label>Exam
    <input type="text" name="exam" value="{{ item.exam if item }}">
  </label>
  <label>Cutoff
    <input type="text" name="cutoff" value="{{ item.cutoff if item }}">
  </label>
  <label>Description
    <textarea name="description">{{ item.description if item }}</textarea>
  </label>
 <!-- New Courses field -->
  <label>Courses (comma separated)
    <input type="text" name="courses" value="{{ ', '.join(item.courses) if item and item.courses }}">
  </label>

  <!-- New Facilities field -->
  <label>Facilities (comma separated)
    <input type="text" name="facilities" value="{{ ', '.join(item.facilities) if item and item.facilities }}">
  </label>
  <label>Image
  <input type="file" name="image">
  {% if item and item.image %}
    <img src="{{ url_for('static', filename='image/' + item.image) }}"
         alt="College Image" class="college-img" width="150">
  {% endif %}
</label>
  <button class="btn" type="submit">Save</button>
</form>
{% endblock %}
